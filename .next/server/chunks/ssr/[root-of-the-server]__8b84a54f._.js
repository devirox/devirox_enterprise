module.exports=[29173,(a,b,c)=>{b.exports=a.x("@prisma/client",()=>require("@prisma/client"))},31191,a=>{"use strict";var b=a.i(29173);let c=global.prisma||new b.PrismaClient;a.s(["default",0,c,"prisma",0,c])},26640,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(29022)},38059,a=>{"use strict";var b=a.i(26640),c=a.i(31191);let d=process.env.CLOUDINARY_CLOUD_NAME;process.env.CLOUDINARY_API_KEY,process.env.CLOUDINARY_API_SECRET;let e=process.env.CLOUDINARY_UPLOAD_PRESET;async function f(b,c,f){let g=d?`https://api.cloudinary.com/v1_1/${d}/image/upload`:null;if(!g)throw Error("Cloudinary not configured (CLOUDINARY_CLOUD_NAME missing)");let h=new a.g.FormData;"string"==typeof b?h.append("file",b):h.append("file",b,c||"upload"),e&&h.append("upload_preset",e),f&&h.append("folder",f);let i=await fetch(g,{method:"POST",body:h});if(!i.ok){let a=await i.text();throw Error(`Cloud upload failed: ${i.status} ${a}`)}let j=await i.json();return{publicId:j.public_id||j.publicId||j.asset_id||"",url:j.secure_url||j.url}}let g=async function(b){let d,e=String(b.get("title")||""),g=String(b.get("folder")||""),h=b.get("imageUrl"),i=b.get("file");if(i)d=await f(i,i.name,g||void 0);else if(h)d=await f(h,void 0,g||void 0);else throw Error("No file or imageUrl provided");await c.default.imageAsset.create({data:{title:e||null,publicId:d.publicId,url:d.url,folder:g||null,isActive:!0}});let{redirect:j}=await a.A(76865);j("/dashboard/admin/uploads")};(0,b.registerServerReference)(g,"401cd501e5cb2133e7dd25a2123faf86be4438c08f",null),a.s(["$$RSC_SERVER_ACTION_0",0,g,"uploadImageAction",()=>g],38059)},83556,a=>{"use strict";var b=a.i(38059);a.s([],56589),a.i(56589),a.s(["401cd501e5cb2133e7dd25a2123faf86be4438c08f",()=>b.$$RSC_SERVER_ACTION_0],83556)},76865,a=>{a.v(b=>Promise.all(["server/chunks/ssr/821c6_next_dist_15a30965._.js","server/chunks/ssr/821c6_next_dist_ab453c9a._.js"].map(b=>a.l(b))).then(()=>b(11411)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8b84a54f._.js.map