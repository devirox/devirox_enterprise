module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},59808,a=>{a.n(a.i(68619))},67331,a=>{a.n(a.i(61910))},1772,a=>{a.n(a.i(30208))},12581,a=>{a.n(a.i(72248))},29173,(a,b,c)=>{b.exports=a.x("@prisma/client",()=>require("@prisma/client"))},31191,a=>{"use strict";var b=a.i(29173);let c=global.prisma||new b.PrismaClient;a.s(["default",0,c,"prisma",0,c])},94894,a=>{"use strict";var b=a.i(50680),c=a.i(31191);async function d({token:a,email:b}){let d=await c.default.verificationToken.findUnique({where:{token:a}});if(!d||d.identifier!==b)throw Error("Invalid or missing token");let e=new Date;if(d.expires<e)throw await c.default.verificationToken.deleteMany({where:{token:a}}),Error("Token expired");return await c.default.user.update({where:{email:b},data:{isApproved:!0,emailVerified:new Date}}),await c.default.verificationToken.deleteMany({where:{token:a}}),!0}async function e({searchParams:a}){let{token:c,email:e}=a||{};if(!c||!e)return(0,b.jsxs)("main",{className:"p-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Verification failed"}),(0,b.jsx)("p",{className:"mt-2",children:"Missing token or email."})]});try{return await d({token:c,email:e}),(0,b.jsxs)("main",{className:"p-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Verified"}),(0,b.jsxs)("p",{className:"mt-2",children:["Your email has been verified. You can now ",(0,b.jsx)("a",{href:"/login",children:"sign in"}),"."]})]})}catch(a){return(0,b.jsxs)("main",{className:"p-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Verification failed"}),(0,b.jsx)("p",{className:"mt-2",children:a?.message||"Invalid or expired token."})]})}}a.s(["default",()=>e],94894)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__23891a38._.js.map